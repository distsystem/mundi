name: "Setup pixi"
description: "Install pixi (v0.50.0) and add .pixi/envs/default/bin to PATH"
runs:
  using: "composite"
  steps:
    - name: Setup pixi v0.50.0
      uses: prefix-dev/setup-pixi@v0.8.13
      with:
        pixi-version: v0.62.2
        pixi-url: https://github.com/fecet/pixi/releases/download/{{version}}/{{pixiFile}}
        run-install: false
    - name: Add .pixi/envs/default/bin to PATH
      shell: bash
      run: |
        echo "$(pwd)/.pixi/envs/default/bin" >> "$GITHUB_PATH"
    - name: Config pixi cache
      shell: bash
      run: |
        pixi config set --global repodata-config.disable-sharded true
        pixi config set --global repodata-config.disable-zstd true
